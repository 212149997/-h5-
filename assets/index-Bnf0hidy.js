import{u as f,i as v,f as h,g,a as S}from"./index-M-FyMvXg.js";import{_ as I,J as k,r as p,z as b,l as x,A as y,c as z,a as e,t as c,h as s,o as A,p as B,b as D}from"./index-Dky_G1ZX.js";const t=o=>(B("data-v-9edf1a21"),o=o(),D(),o),F={class:"map"},R=t(()=>e("div",{id:"map"},null,-1)),w={class:"banner"},G={class:"item"},T=t(()=>e("span",null,"公里",-1)),E={class:"item"},L=t(()=>e("span",null,"用时",-1)),M={class:"item"},N=t(()=>e("span",null,"实时配速",-1)),C={__name:"index",setup(o){const i=f(),{km:l,pace:_,time:r,kilocalorie:m}=k(i),n=p(null),u=p();return b(()=>{v(()=>{AMapLoader.load({key:"0f856426f4d2dae17c00b8949e9730dc",version:"2.0"}).then(a=>{u.value=new a.Map("map",{resizeEnable:!0,zoom:10}),a.plugin("AMap.Geolocation",function(){const d=new a.Geolocation({enableHighAccuracy:!1,timeout:1e4,position:"LB",offset:[20,30],zoomToAccuracy:!0});u.value.addControl(d)})}).catch(a=>{console.error(a)})})}),x(()=>{sessionStorage.getItem("runFlag")==1&&(n.value=setInterval(()=>{i.$patch({km:l.value+.03,pace:g(),time:r.value+1,kilocalorie:m.value+S(.9,1.4,!1)})},1e3))}),y(()=>{sessionStorage.getItem("runFlag")!=0&&(sessionStorage.setItem("runFlag",1),clearInterval(n.value),n.value=null)}),(a,d)=>(A(),z("div",F,[R,e("div",w,[e("div",G,[e("span",null,c(s(l).toFixed(2)),1),T]),e("div",E,[e("span",null,c(s(h)(s(r))),1),L]),e("div",M,[e("span",null,c(s(_)),1),N])])]))}},K=I(C,[["__scopeId","data-v-9edf1a21"]]);export{K as default};
